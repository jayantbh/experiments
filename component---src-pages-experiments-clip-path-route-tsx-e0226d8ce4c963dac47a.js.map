{"version":3,"sources":["webpack:///./src/hooks/use-interval.ts","webpack:///./src/components/ClipPathRoute/colors-component.tsx","webpack:///./src/utils/shuffle.ts","webpack:///./src/components/ClipPathRoute/index.tsx","webpack:///./src/pages/experiments/clip-path-route.tsx"],"names":["useInterval","task","interval","deps","useEffect","timer","setInterval","clearInterval","spring","type","damping","stiffness","ColorShuffle","_useState","useState","initialColors","colors","setColors","array","temporaryValue","randomIndex","currentIndex","length","Math","floor","random","concat","shuffle","react_default","a","createElement","className","css","map","background","framer_motion_es","li","key","layoutTransition","style","ClipPathRoute","_ref","location","initial","exitBeforeEnter","div","pathname","clipPath","zIndex","animate","exit","transition","duration","ease","react_router","path","component","RouteContent1","RouteContent2","RouteContent3","to","cls","shapes","shape","triangle","square","pentagon","colors_component_ColorShuffle","window","performance","memory","setMemory","width","usedJSHeapSize","totalJSHeapSize","toFixed","ClipPathRouteParent","_useState2","isLoaded","setIsLoaded","react_router_dom","container","navigation","activeClassName","active","Fragment","__webpack_require__","d","__webpack_exports__","frontmatter","title","description","categories"],"mappings":"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","file":"component---src-pages-experiments-clip-path-route-tsx-e0226d8ce4c963dac47a.js","sourcesContent":["import { DependencyList, useEffect } from 'react';\n\nexport const useInterval = (task: () => void, interval: number, deps: DependencyList) => {\n  useEffect(() => {\n    const timer = setInterval(task, interval);\n    return () => clearInterval(timer);\n  }, deps);\n};\n","import { motion } from 'framer-motion';\nimport { useInterval } from 'hooks/use-interval';\nimport React, { useState } from 'react';\nimport { shuffle } from 'utils/shuffle';\nimport css from './styles.module.scss';\n\nconst spring = {\n  type: 'spring',\n  damping: 20,\n  stiffness: 300,\n};\n\nexport const ColorShuffle = () => {\n  const [colors, setColors] = useState(initialColors);\n\n  useInterval(() => setColors(shuffle(colors)), 1500, [colors]);\n\n  return (\n    <ul className={css['tiles-container']}>\n      {colors.map(background => (\n        <motion.li key={background} layoutTransition={spring} style={{ background }} className={css['color-tile']} />\n      ))}\n    </ul>\n  );\n};\n\nconst initialColors = ['#FF008C', '#D309E1', '#9C1AFF', '#7700FF'];\n","export function shuffle(array: any[]) {\n  let currentIndex = array.length;\n  let temporaryValue;\n  let randomIndex;\n\n  while (0 !== currentIndex) {\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex -= 1;\n\n    temporaryValue = array[currentIndex];\n    array[currentIndex] = array[randomIndex];\n    array[randomIndex] = temporaryValue;\n  }\n\n  return [...array];\n}\n","import cls from 'classnames';\nimport { AnimatePresence, motion } from 'framer-motion';\nimport React, { useEffect, useState } from 'react';\nimport { HashRouter, NavLink, Redirect, Route, RouteProps, Switch } from 'react-router-dom';\n\nimport { ColorShuffle } from 'components/ClipPathRoute/colors-component';\nimport { useInterval } from 'hooks/use-interval';\nimport css from './styles.module.scss';\n\nconst ClipPathRoute = ({ location }: RouteProps) => {\n  return (\n    <AnimatePresence initial={false} exitBeforeEnter={false}>\n      <motion.div\n        key={location ? location.pathname : 'no-location'}\n        className={css['routes-wrapper']}\n        initial={{ clipPath: 'circle(calc(0% - 80px) at top center)', zIndex: 0 }}\n        animate={{ clipPath: 'circle(calc(100% - 80px) at top center)', zIndex: 1 }}\n        exit={{ clipPath: 'circle(calc(100.1% - 80px) at top center)', zIndex: 0 }}\n        transition={{\n          duration: 1,\n          ease: 'easeOut',\n        }}\n      >\n        <Switch location={location}>\n          <Route path={'/route-1'} component={RouteContent1} />\n          <Route path={'/route-2'} component={RouteContent2} />\n          <Route path={'/route-3'} component={RouteContent3} />\n\n          <Redirect to={'/route-1'} />\n        </Switch>\n      </motion.div>\n    </AnimatePresence>\n  );\n};\n\nconst RouteContent1 = () => (\n  <div className={cls(css['route-container'], css['route-1'])}>\n    <h1>Route 1</h1>\n    <h2>This is an experiment in clip-path based route animations.</h2>\n    <div className={css.shapes}>\n      <div className={cls(css.shape, css.triangle)} />\n      <div className={cls(css.shape, css.square)} />\n      <div className={cls(css.shape, css.pentagon)} />\n    </div>\n    <h2>You'll see that there's a small amount of content here.</h2>\n  </div>\n);\nconst RouteContent2 = () => (\n  <div className={cls(css['route-container'], css['route-2'])}>\n    <h1>Route 2</h1>\n    <h2>This screen has some animated stuff to simulate a lot of different things going on.</h2>\n    <div>\n      <ColorShuffle />\n    </div>\n    <h2>This is a basic color tiles shuffle example taken from Framer Motion's examples.</h2>\n    <p>\n      This is a good example about why you should not use this approach when transitioning in/out of sites that already\n      have a lot of stuff going on.\n    </p>\n    <p>This is best suited for static content views.</p>\n  </div>\n);\nconst RouteContent3 = () => {\n  const [memory, setMemory] = useState(window.performance.memory);\n\n  useInterval(() => memory && setMemory(window.performance.memory), 1000, []);\n\n  return (\n    <div className={cls(css['route-container'], css['route-3'])}>\n      <h1>Route 3</h1>\n      <h2>This is just another page to showcase some content.</h2>\n      {memory ? (\n        <div>\n          <div className={css['memory-bar']}>\n            <div style={{ width: `${(memory.usedJSHeapSize / memory.totalJSHeapSize) * 100}%` }} />\n          </div>\n          <div>\n            {(memory.usedJSHeapSize / 10e6).toFixed(2)} MBs / {(memory.totalJSHeapSize / 10e6).toFixed(2)} MBs\n          </div>\n          <div>This is the amount of heap memory used, out of the available heap memory.</div>\n        </div>\n      ) : (\n        <div>\n          Your browser doesn't support <code>window.performance.memory</code>. If it did, you'd see current memory usage\n          here right now.\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst ClipPathRouteParent = () => {\n  const [isLoaded, setIsLoaded] = useState(false);\n  useEffect(() => {\n    setIsLoaded(true);\n  }, []);\n\n  if (!isLoaded) return <></>;\n  return (\n    <HashRouter>\n      <div className={css.container}>\n        <div className={css.navigation}>\n          <NavLink to={'/route-1'} activeClassName={css.active}>\n            Go to 1\n          </NavLink>\n          <NavLink to={'/route-2'} activeClassName={css.active}>\n            Go to 2\n          </NavLink>\n          <NavLink to={'/route-3'} activeClassName={css.active}>\n            Go to 3\n          </NavLink>\n        </div>\n        <Route path={'/'} component={ClipPathRoute} />\n      </div>\n    </HashRouter>\n  );\n};\n\nexport default ClipPathRouteParent;\n","import component from 'components/ClipPathRoute/index';\nexport default component;\n\nexport const frontmatter = {\n  title: 'Clip Path Route Transition',\n  description: 'Switch between multiple routes with a nice clip-path animation.',\n  categories: ['canvas', '2d', 'draw'],\n};\n"],"sourceRoot":""}
(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{254:function(e,t,a){"use strict";a.r(t);var n=a(124),r=a.n(n),l=a(0),i=a.n(l),c=a(270),o=a(272),s=function(e){var t=Object(l.useRef)();return Object(l.useEffect)(function(){t.current=e}),t.current||{}},m=function(e,t){var a=Object(l.useState)(null),n=a[0],r=a[1],i=s({animated:t}).animated;Object(l.useLayoutEffect)(function(){if(t!==i&&e&&e.current){var a=e.current,l=n,c=a.getBoundingClientRect();if(r(a.getBoundingClientRect()),l&&c){var o=l.left-c.left,s=l.top-c.top,m=l.width/c.width,u=l.height/c.height;a.animate([{transformOrigin:"top left",transform:"translate("+o+"px, "+s+"px) scale("+m+", "+u+")"},{transformOrigin:"top left",transform:"none"}],{duration:250,easing:"ease-in-out"})}}},[e,t,i,n])},u=a(253),f=a.n(u),d={height:"100px",width:"100px",left:"200px"},p={height:"200px",width:"200px",left:"-200px"},h=function(){var e=Object(l.useRef)(null),t=Object(l.useState)(!1),a=t[0],n=t[1],c=Object(l.useCallback)(function(){return n(!a)},[a]);return m(e,a),i.a.createElement("div",{className:f.a.container,onClick:c},i.a.createElement("h2",null,"Without nested content"),i.a.createElement("div",{className:f.a["element-wrapper"]},i.a.createElement("div",{ref:e,className:f.a["element-common-styles"],style:a?d:p})),i.a.createElement("div",{className:f.a["element-wrapper"]},i.a.createElement("div",{className:r()(f.a["element-common-styles"],f.a["non-flip"]),style:a?d:p})))},v=function(){var e=Object(l.useRef)(null),t=Object(l.useState)(!1),a=t[0],n=t[1],c=Object(l.useCallback)(function(){return n(!a)},[a]);return m(e,a),i.a.createElement("div",{className:f.a.container,onClick:c},i.a.createElement("h2",null,"Without child transitions handling"),i.a.createElement("div",{className:f.a["element-wrapper"]},i.a.createElement("div",{ref:e,className:f.a["element-common-styles"],style:a?d:p},"FLIP")),i.a.createElement("div",{className:f.a["element-wrapper"]},i.a.createElement("div",{className:r()(f.a["element-common-styles"],f.a["non-flip"]),style:a?d:p},"Non-FLIP")))},E=function(){var e=Object(l.useRef)(null),t=Object(l.useState)(!1),a=t[0],n=t[1],c=Object(l.useCallback)(function(){return n(!a)},[a]);return function(e,t){var a=Object(l.useState)(null),n=a[0],r=a[1],i=Object(l.useState)(null),c=i[0],o=i[1],m=s({animated:t}).animated;Object(l.useLayoutEffect)(function(){if(t!==m&&e&&e.current){var a=e.current,l=e.current.querySelector("div");if(l){var i=n,s=a.getBoundingClientRect(),u=c,f=l.getBoundingClientRect();if(r(a.getBoundingClientRect()),o(l.getBoundingClientRect()),i&&s&&u&&f){var d=i.left-s.left,p=i.top-s.top,h=i.width/s.width,v=i.height/s.height,E=s.width/i.width,g=s.height/i.height;a.animate([{transformOrigin:"top left",transform:"translate("+d+"px, "+p+"px) scale("+h+", "+v+")"},{transformOrigin:"top left",transform:"none"}],{duration:250,easing:"ease-in-out",fill:"both"}),l.animate([{transformOrigin:"center",transform:"scale("+E+", "+g+")"},{transformOrigin:"center",transform:"none"}],{duration:250,easing:"ease-in-out"})}}}},[e,t,m,n,c])}(e,a),i.a.createElement("div",{className:f.a.container,onClick:c},i.a.createElement("h2",null,"With child transitions handling"),i.a.createElement("div",{className:f.a["element-wrapper"]},i.a.createElement("div",{ref:e,className:f.a["element-common-styles"],style:a?d:p},i.a.createElement("div",null,"FLIP"))),i.a.createElement("div",{className:f.a["element-wrapper"]},i.a.createElement("div",{className:r()(f.a["element-common-styles"],f.a["non-flip"]),style:a?d:p},i.a.createElement("div",null,"Non-FLIP"))))},g=function(e){var t=e.location;return i.a.createElement(c.d,{location:t},i.a.createElement(c.b,{path:"/route-1",component:h}),i.a.createElement(c.b,{path:"/route-2",component:v}),i.a.createElement(c.b,{path:"/route-3",component:E}),i.a.createElement(c.a,{to:"/route-1"}))},b=function(){var e=Object(l.useState)(!1),t=e[0],a=e[1];return Object(l.useEffect)(function(){a(!0)},[]),t?i.a.createElement(o.a,null,i.a.createElement("div",{className:f.a.container},i.a.createElement("div",{className:f.a.navigation},i.a.createElement(o.b,{to:"/route-1",activeClassName:f.a.active},"FLIP w/o Children"),i.a.createElement(o.b,{to:"/route-2",activeClassName:f.a.active},"FLIP w/o Children Handled"),i.a.createElement(o.b,{to:"/route-3",activeClassName:f.a.active},"FLIP w/ Children Handled")),i.a.createElement("h2",null,"Click to toggle animation state"),i.a.createElement(c.b,{path:"/",component:g}))):i.a.createElement(i.a.Fragment,null)};a.d(t,"frontmatter",function(){return w});t.default=b;var w={title:"FLIP Animation Technique",description:"An example with first-last-invert-play animation technique",categories:["css","animations","flip","transitions","transform"]}}}]);
//# sourceMappingURL=component---src-pages-experiments-flip-animation-technique-tsx-67d318f69558e4245f5d.js.map